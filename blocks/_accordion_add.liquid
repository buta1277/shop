{%- liquid
  if block.settings.title == blank or product.has_only_default_variant
    continue
  endif
  assign open = block.settings.open
-%}
<hdt-accordion class="hdt-contents">
<details class="hdt-product-accordion__item" {% if open %}open {% endif %} {{ block.shopify_attributes }}>
  <summary aria-expanded="{{ open }}">
    <span class="hdt-product-accordion__text hdt-s-text hdt-font-semibold">{{ block.settings.title }}</span>
    <span class="hdt-product-accordion__icon"></span>
  </summary>
  <div class="hdt-product-accordion__content">
    <table class="hdt-pr_attrs">
      <tbody>
        {%- for product_option in product.options_with_values -%}
        <tr class="hdt-attr_pa_{{ product_option.name | handle }}">
          <th class="hdt-attr__label">{{ product_option.name }}</th>
          <td class="hdt-attr__value">
            <p>{% for value in product_option.values %}{{ value }}{% unless forloop.last == true %}, {% endunless %}{% endfor %}</p>
          </td>
        </tr>
        {%- endfor -%}
      </tbody>
    </table>
  </div>
</details>
</hdt-accordion>
{% schema %}
  {
    "name": "t:sections.main-product-tabs.blocks.accordion_add.name",
    "tag": null,
    "settings": [
      {
        "type": "checkbox",
        "id": "open",
        "label": "Open",
        "default": false
      },
      {
        "type": "text",
        "id": "title",
        "label": "t:sections.main-product-tabs.blocks.accordion_add.settings.title.label",
        "default": "Additional information"
      }
    ],
    "presets": [
      {
        "name": "t:sections.main-product-tabs.blocks.accordion_add.name"
      }
    ]
  }
{% endschema %}
